"use strict";(self["webpackChunkvue3_cms_ts"]=self["webpackChunkvue3_cms_ts"]||[]).push([[673],{1269:function(e,t,l){l.r(t),l.d(t,{default:function(){return w}});var a=l(3396),n=l(4870),i=l(7890),r=l(6151),p=l(4968);const o={labelWidth:"100px",formItems:[{field:"id",label:"id",placeholder:"请输入id",type:"input",itemType:"text"},{field:"name",label:"用户名",placeholder:"请输入用户名",itemType:"text",type:"input"},{field:"realname",label:"真实姓名",placeholder:"请输入真实姓名",itemType:"text",type:"input"},{field:"cellphone",label:"电话号码",placeholder:"请输入电话号码",itemType:"text",type:"input"},{field:"enable",label:"用户状态",placeholder:"请选择用户状态",itemType:"group",type:"select",options:[{label:"启用",value:1},{label:"禁用",value:0}]},{field:"createAt",label:"创建时间",itemType:"daterange",type:"datePicker"}]};var d=l(4570),c=l(5393),s=l(4786),u=l(9818),m=l(2646),y=l(1173);const f=[u.Z,m.Z],h=[{type:"selection",align:"center"},{title:"序号",key:"sort",align:"center"},{title:"用户名",align:"center",key:"name"},{title:"真实姓名",align:"center",key:"realname"},{title:"手机号码",align:"center",key:"cellphone"},{title:"状态",align:"center",key:"enable",render:e=>{const t=e.enable.map((e=>(0,a.h)(d.Z,{type:"info"},{default:()=>1===e?"启用":"禁用"})));return t}},{title:"创建时间",align:"center",key:"createAt"},{title:"更新时间",align:"center",key:"updateAt"},{title:"操作",align:"center",key:"action",render:e=>{const t=e.action.map(((t,l)=>{if(t.verify)return(0,a.h)(c.Z,{type:t.type,onClick:()=>{switch(t.text){case"删除":t.event({id:e.id,queryInfo:{offset:0,size:10}});break;case"编辑":t.event(e)}}},[(0,a.h)(s.g,null,{default:()=>(0,a.h)(f[l])}),t.text])}));return t}}];function b(e,t,l){const a=[];return e.value.forEach(((e,n)=>{a.push({key:e.id,id:e.id,sort:n+1,name:e.name,realname:e.realname,cellphone:e.cellphone,enable:[e.enable],createAt:(0,y.u)(e.createAt),updateAt:(0,y.u)(e.updateAt),departmentId:e.departmentId,roleId:e.roleId,action:[{text:"编辑",type:"primary",verify:t[0],event:l[0]},{text:"删除",type:"error",verify:t[1],event:l[1]}]})})),a}function g(e="new"){if("new"===e){const e={labelWidth:"100px",formItems:[{field:"name",label:"用户名",placeholder:"请输入用户名",type:"input",itemType:"text"},{field:"realname",label:"真实姓名",placeholder:"请输入真实姓名",itemType:"text",type:"input"},{field:"password",label:"用户密码",placeholder:"请输入用户密码",itemType:"password",type:"input"},{field:"cellphone",label:"电话号码",placeholder:"请输入电话号码",itemType:"text",type:"input"},{field:"departmentId",label:"选择部门",placeholder:"请选择部门",itemType:"group",type:"select",options:[]},{field:"roleId",label:"选择角色",placeholder:"请选择角色",itemType:"group",type:"select",options:[]}]};return e}if("edit"===e){const e={labelWidth:"100px",formItems:[{field:"name",label:"用户名",placeholder:"请输入用户名",type:"input",itemType:"text"},{field:"realname",label:"真实姓名",placeholder:"请输入真实姓名",itemType:"text",type:"input"},{field:"cellphone",label:"电话号码",placeholder:"请输入电话号码",itemType:"text",type:"input"},{field:"departmentId",label:"选择部门",placeholder:"请选择部门",itemType:"group",type:"select",options:[]},{field:"roleId",label:"选择角色",placeholder:"请选择角色",itemType:"group",type:"select",options:[]}]};return e}}var k=l(2925),v=l(8256),x=l(3155);const T={class:"user"};var I=(0,a.aZ)({name:"user",setup(e){const t=(0,x.oR)(),[l,d,c]=(0,k.Y)(),[s,u,m,y,f,I,S]=(0,v.S)(["新建用户","编辑用户"],g,U);function U(){y.value.formItems.forEach((e=>{switch(e.field){case"departmentId":e.options=t.state.entireDepartment.map((e=>({label:e.name,value:e.id})));break;case"roleId":e.options=t.state.entireRole.map((e=>({label:e.name,value:e.id})));break}}))}return(e,t)=>{const g=(0,a.up)("n-dialog-provider");return(0,a.wg)(),(0,a.iD)("div",T,[(0,a.Wm)((0,n.SU)(i.Z),{searchFormConfig:(0,n.SU)(o),onQueryBtnClick:(0,n.SU)(d),onResetBtnClick:(0,n.SU)(c)},null,8,["searchFormConfig","onQueryBtnClick","onResetBtnClick"]),(0,a.Wm)((0,n.SU)(r.Z),{thead:(0,n.SU)(h),pageName:"users","init-tbody-fn":(0,n.SU)(b),ref_key:"pageContentRef",ref:l,onHandleNewData:(0,n.SU)(S),onHandleEditData:(0,n.SU)(I)},null,8,["thead","init-tbody-fn","onHandleNewData","onHandleEditData"]),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,n.SU)(m)?((0,a.wg)(),(0,a.j4)((0,n.SU)(p.Z),{key:0,modalFormConfig:(0,n.SU)(y),"default-info":(0,n.SU)(f),"page-name":"users","event-name":(0,n.SU)(u),title:(0,n.SU)(s)},null,8,["modalFormConfig","default-info","event-name","title"])):(0,a.kq)("",!0)])),_:1})])}}}),S=l(89);const U=(0,S.Z)(I,[["__scopeId","data-v-942039b8"]]);var w=U}}]);
//# sourceMappingURL=673.2a56b62d.js.map