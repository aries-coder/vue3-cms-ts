{"version":3,"file":"js/163.9d380605.js","mappings":"sPAMA,MAAMA,EAAQ,CAACC,EAAAA,EAAMC,EAAAA,GACRC,EAAsB,CACjC,CACEC,MAAO,OACPC,IAAK,OACLC,MAAO,UAET,CACEF,MAAO,KACPC,IAAK,OACLC,MAAO,UAET,CACEF,MAAO,QACPC,IAAK,MACLC,MAAO,UAET,CACEF,MAAO,SACPC,IAAK,OACLC,MAAO,UAET,CACEF,MAAO,OACPC,IAAK,aACLC,MAAO,UAET,CACEF,MAAO,OACPC,IAAK,WACLC,MAAO,UAET,CACEF,MAAO,OACPC,IAAK,WACLC,MAAO,UAET,CACEF,MAAO,KACPC,IAAK,SACLC,MAAO,SACPC,OAASC,IACP,MAAMC,EAASD,EAAIC,OAAOC,KAAI,CAACC,EAAWC,KACjCC,EAAAA,EAAAA,GACLC,EAAAA,EACA,CACEC,KAAMJ,EAAKI,MAEb,EAACF,EAAAA,EAAAA,GAAEG,EAAAA,EAAO,KAAM,CAAEC,QAAS,KAAMJ,EAAAA,EAAAA,GAAEb,EAAMY,MAAYD,EAAKO,SAI9D,OAAOT,KAkBP,SAAUU,EAAcC,GAC5B,MAAMC,EAA0B,GAoDhC,OAnDAD,EAASE,MAAMC,SAASZ,IACtB,MAAMa,EAAmB,CACvBnB,IAAKM,EAAKc,GACVV,KAAMJ,EAAKI,KACXW,IAAKf,EAAKe,IACVC,KAAMhB,EAAKgB,KACXC,WAAYjB,EAAKiB,WACjBC,KAAMlB,EAAKkB,KACXC,UAAUC,EAAAA,EAAAA,GAAgBpB,EAAKmB,UAC/BE,UAAUD,EAAAA,EAAAA,GAAgBpB,EAAKqB,UAC/BvB,OAAQ,CACN,CAAES,KAAM,KAAMH,KAAM,WACpB,CAAEG,KAAM,KAAMH,KAAM,WAOxB,SAASkB,EAAsBC,GAC7BC,QAAQC,IAAIF,GAEZ,MAAMG,EAA6B,GAwBnC,OAvBAH,EAAaX,SAASZ,IACpB,MAAMa,EAAmB,CACvBnB,IAAKM,EAAKc,GACVV,KAAMJ,EAAKI,KACXW,IAAKf,EAAKe,IACVC,KAAMhB,EAAKgB,KACXC,WAAYjB,EAAKiB,WACjBC,KAAMlB,EAAKkB,KACXC,UAAUC,EAAAA,EAAAA,GAAgBpB,EAAKmB,UAC/BE,UAAUD,EAAAA,EAAAA,GAAgBpB,EAAKqB,UAC/BvB,OAAQ,CACN,CAAES,KAAM,KAAMH,KAAM,WACpB,CAAEG,KAAM,KAAMH,KAAM,WAIpBJ,EAAK2B,WACPd,EAAKc,SAAWL,EAAsBtB,EAAK2B,WAG7CD,EAAaE,KAAKf,MAGba,EA/BL1B,EAAK2B,WACPd,EAAKc,SAAWL,EAAsBtB,EAAK2B,WAiC7CjB,EAAUkB,KAAKf,MAEVH,EC9HT,MAAMmB,EAAa,CAAEC,MAAO,QAM5B,OAA4BC,EAAAA,EAAAA,IAAiB,CAC3Cb,KAAM,OACNc,MAAMC,GAGR,MAAO,CAACC,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOR,EAAY,EAC3DS,EAAAA,EAAAA,KAAaC,EAAAA,EAAAA,IAAOC,EAAAA,GAAc,CAChChD,OAAO+C,EAAAA,EAAAA,IAAO/C,GACd,YAAa,OACb,iBAAiB+C,EAAAA,EAAAA,IAAO/B,IACvB,KAAM,EAAG,CAAC,QAAS,wBCjB1B,MAAMiC,EAAc,EAEpB","sources":["webpack://vue3-cms-ts/./src/views/main/system/menu/config/content.config.ts","webpack://vue3-cms-ts/./node_modules/vue-loader/dist/index.js","webpack://vue3-cms-ts/./src/views/main/system/menu/menu.vue"],"sourcesContent":["import { NButton, NIcon } from 'naive-ui'\nimport { Edit, Delete } from '@vicons/carbon'\nimport { h } from 'vue'\nimport { ITheadItem } from '@/base-ui/table'\nimport { formatUtcString } from '@/utils/date-format'\n\nconst icons = [Edit, Delete]\nexport const thead: ITheadItem[] = [\n  {\n    title: '菜单名称',\n    key: 'name',\n    align: 'center'\n  },\n  {\n    title: '类型',\n    key: 'type',\n    align: 'center'\n  },\n  {\n    title: '菜单url',\n    key: 'url',\n    align: 'center'\n  },\n  {\n    title: '菜单icon',\n    key: 'icon',\n    align: 'center'\n  },\n  {\n    title: '按钮权限',\n    key: 'permission',\n    align: 'center'\n  },\n  {\n    title: '创建时间',\n    key: 'createAt',\n    align: 'center'\n  },\n  {\n    title: '更新时间',\n    key: 'updateAt',\n    align: 'center'\n  },\n  {\n    title: '操作',\n    key: 'action',\n    align: 'center',\n    render: (row: any) => {\n      const action = row.action.map((item: any, index: number) => {\n        return h(\n          NButton,\n          {\n            type: item.type\n          },\n          [h(NIcon, null, { default: () => h(icons[index]) }), item.text]\n        )\n      })\n\n      return action\n    }\n  }\n]\n\ninterface ITbodyData {\n  key: number\n  type: string | number\n  url: string\n  icon: string\n  name: string\n  createAt: string\n  updateAt: string\n  action: object[]\n  children?: any\n  permission?: string\n}\n\nexport function initTbodyData(dataList: any) {\n  const totalList: ITbodyData[] = []\n  dataList.value.forEach((item: any) => {\n    const list: ITbodyData = {\n      key: item.id,\n      type: item.type,\n      url: item.url,\n      icon: item.icon,\n      permission: item.permission,\n      name: item.name,\n      createAt: formatUtcString(item.createAt),\n      updateAt: formatUtcString(item.updateAt),\n      action: [\n        { text: '编辑', type: 'primary' },\n        { text: '删除', type: 'error' }\n      ]\n    }\n    if (item.children) {\n      list.children = initTbodyChildrenItem(item.children)\n    }\n\n    function initTbodyChildrenItem(childrenItem: any) {\n      console.log(childrenItem)\n\n      const childrenList: ITbodyData[] = []\n      childrenItem.forEach((item: any) => {\n        const list: ITbodyData = {\n          key: item.id,\n          type: item.type,\n          url: item.url,\n          icon: item.icon,\n          permission: item.permission,\n          name: item.name,\n          createAt: formatUtcString(item.createAt),\n          updateAt: formatUtcString(item.updateAt),\n          action: [\n            { text: '编辑', type: 'primary' },\n            { text: '删除', type: 'error' }\n          ]\n        }\n\n        if (item.children) {\n          list.children = initTbodyChildrenItem(item.children)\n        }\n\n        childrenList.push(list)\n      })\n\n      return childrenList\n    }\n\n    totalList.push(list)\n  })\n  return totalList\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"menu\" }\n\nimport PageContent from '@/components/page-content'\n\nimport { thead, initTbodyData } from './config/content.config'\n\nexport default /*#__PURE__*/_defineComponent({\n  name: 'menu',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(PageContent), {\n      thead: _unref(thead),\n      \"page-name\": \"menu\",\n      \"init-tbody-fn\": _unref(initTbodyData)\n    }, null, 8, [\"thead\", \"init-tbody-fn\"])\n  ]))\n}\n}\n\n})","import script from \"./menu.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./menu.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["icons","Edit","Delete","thead","title","key","align","render","row","action","map","item","index","h","NButton","type","NIcon","default","text","initTbodyData","dataList","totalList","value","forEach","list","id","url","icon","permission","name","createAt","formatUtcString","updateAt","initTbodyChildrenItem","childrenItem","console","log","childrenList","children","push","_hoisted_1","class","_defineComponent","setup","__props","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","_unref","PageContent","__exports__"],"sourceRoot":""}